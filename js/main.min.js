function _emailCheckRemove(){emailNew.prop("checked",!1),emailAttach.prop("checked",!1),onlyEmailAttach.prop("checked",!1)}function _radioStatusChange(t){var e=[emailNew,emailAttach,onlyEmailAttach];"enable"==t?$.each(e,function(t,e){e.prop("disabled",!1),e.removeClass("radio_disabled").addClass("radio_enabled")}):$.each(e,function(t,e){e.prop("disabled",!0),e.removeClass("radio_enabled").addClass("radio_disabled")})}function _beforeSubmitPopUp(t,e){var e=$('input[name="ctl00$MainContent$UC_AddComment$G_DescriptionType"]:checked').val();if("RB_Internal"==e)return _submitOrBackClick(t),!0;var n=_createConfirmMsg(e);$.confirm({title:"[Confirm]",content:n,buttons:{ok:function(){return _submitOrBackClick(t),!0},cancel:function(){return!0}}})}function _createConfirmMsg(t){var e=$('input[name="ctl00$MainContent$UC_AddComment$CB_NeedSendEmail"]').prop("checked"),n=$('input[name="ctl00$MainContent$UC_AddComment$CB_NeedEmailAttachment"]').prop("checked"),a="";e?(a="Email New Comment",n&&(a+="<br>Email Attachment(s)")):n&&(a="Email Attachment(s)");var i='<div style="color: lightgreen; font-size:1.5em">******* Title/Status *******</div>Title   :   '+titleId.val()+"<br>Status   :   "+$("[name='ctl00$MainContent$DDL_TicketStatus'] option:selected").text()+'<br><br><div style="color: lightgreen; font-size:1.5em">******* Output *******</div>'+t+'<br><br><div style="color: lightgreen; font-size:1.5em">******* Email *******</div>email From  :  '+emailFrom.val()+"<br>email To  :  "+emailTo.val()+"<br>email Cc  :  "+emailCc.val()+'<br><br><div style="color: lightgreen; font-size:1.5em">******* Action *******</div>'+a+"<br><br>";return titleCheckFrag&&statusChangeFrag&&partnerRatingCheckFrag||(i+='<div style="color: red; font-size:1.5em">!!!!! Caution !!!!!</div>',titleCheckFrag||(i+="+ Title header is irregularity!<br>"),statusChangeFrag||(i+="+ You didn't change  Status!<br>"),partnerRatingCheckFrag||(i+="+ Partner Rating is empty!<br>"),i+="<br>Please check before you submit.<br>"),i}function _submitOrBackClick(t){switch(t){case"submit":submitButton.click();break;case"submit_back":submitBackButton.click()}}var titleId=$("#ctl00_MainContent_TB_TicketTitle"),titleCheckFrag=!1,statusId=$("#ctl00_MainContent_DDL_TicketStatus"),statusChangeFrag=!1,partnerRatingId=$("#ctl00_MainContent_UC_PartnerRating_DDL_NoDocs"),partnerRatingCheckFrag=!0,categoryProductId=$("[name='ctl00$MainContent$UC_CategorySelector$DDL_ProductType'] option:selected"),categoryContentId=$("[name='ctl00$MainContent$UC_CategorySelector$DDL_Category'] option:selected"),serialNumberId=$("#ctl00_MainContent_txtSN"),swVersionId=$("[name='ctl00$MainContent$UC_Version$DDL_SWVersion'] option:selected"),swPatchId=$("[name='ctl00$MainContent$DDL_Build'] option:selected"),internalButton=$("#ctl00_MainContent_UC_AddComment_RB_Internal"),externalButton=$("#ctl00_MainContent_UC_AddComment_RB_EXternal"),notepadButton=$("#ctl00_MainContent_UC_AddComment_RB_NotePad"),emailNew=$("#ctl00_MainContent_UC_AddComment_CB_NeedSendEmail"),emailAttach=$("#ctl00_MainContent_UC_AddComment_CB_NeedEmailAttachment"),onlyEmailAttach=$("#ctl00_MainContent_UC_AddComment_CB_AttachToEmailOnly"),emailFrom=$("#ctl00_MainContent_UC_AddComment_TB_EmailFrom"),emailTo=$("#ctl00_MainContent_UC_AddComment_TB_EmailTo"),emailCc=$("#ctl00_MainContent_UC_AddComment_TB_EmailCC"),submitButton=$("#ctl00_MainContent_B_TicketSubmit"),submitBackButton=$("#ctl00_MainContent_B_SubmitAndBack"),newSubmitButton=$("#new_ctl00_MainContent_B_TicketSubmit"),newSubmitBackButton=$("#new_ctl00_MainContent_B_SubmitAndBack");$(function(){$("#aspnetForm > div:nth-child(13) > table:nth-child(1)").after('<p class="plugin_working">FortiCare Cutom Plugin Working now...</p>')}),$(function(){_emailCheckRemove(),emailCc.val("support_jp@fortinet.com"),_radioStatusChange("disable")}),$(function(){internalButton.click(function(){_emailCheckRemove(),_radioStatusChange("disable"),$("#new_ctl00_MainContent_B_TicketSubmit").text("Update (Internal)")})}),$(function(){var t=[externalButton,notepadButton];$.each(t,function(t,e){e.click(function(){_radioStatusChange("enable"),e==externalButton?$("#new_ctl00_MainContent_B_TicketSubmit").text("Update (External)"):$("#new_ctl00_MainContent_B_TicketSubmit").text("Update (NotePad)")})})}),$(function(){statusId.addClass("title_warning"),statusId.change(function(){statusId.removeClass("title_warning"),statusChangeFrag=!0})}),$(function(){""==partnerRatingId.val()&&(partnerRatingId.addClass("title_warning"),partnerRatingCheckFrag=!1),partnerRatingId.change(function(){""==partnerRatingId.val()?(partnerRatingId.addClass("title_warning"),partnerRatingCheckFrag=!1):(partnerRatingId.removeClass("title_warning"),partnerRatingCheckFrag=!0)})}),$(function(){var t=titleId.val();t.match(/^#[a-zA-Z]{2}-[a-zA-z]#.*\[.*\].*/)?titleCheckFrag=!0:titleId.addClass("title_warning")}),$(function(){titleId.change(function(){var t=titleId.val();t.match(/^#[a-zA-Z]{2}-[a-zA-z]#.*\[.*\].*/)?(titleId.removeClass("title_warning"),titleCheckFrag=!0):(titleId.addClass("title_warning"),titleCheckFrag=!1)})}),$(function(){var t=$("#Table5 > tbody > tr > td > table > tbody > tr:nth-child(2) > td > table > tbody > tr > td:contains('External Message')");t.each(function(t,e){$(e).addClass("externalMessageColum"),$(e).parent("tr").next("tr").children("td").is(":contains('Attachment:')")?$(e).parent("tr").next("tr").next("tr").children("td").addClass("externalMessageBody"):$(e).parent("tr").next("tr").children("td").addClass("externalMessageBody")});var e=$("#Table5 > tbody > tr > td > table > tbody > tr:nth-child(2) > td > table > tbody > tr > td:contains('Internal Message')");e.each(function(t,e){$(e).addClass("internalMessageColum"),$(e).parent("tr").next("tr").children("td").is(":contains('Attachment:')")?$(e).parent("tr").next("tr").next("tr").children("td").addClass("internalMessageBody"):$(e).parent("tr").next("tr").children("td").addClass("internalMessageBody")});var n=$("#Table5 > tbody > tr > td > table > tbody > tr:nth-child(2) > td > table > tbody > tr > td:contains('Partner Message')");n.each(function(t,e){$(e).addClass("partnerMessageColum"),$(e).parent("tr").next("tr").children("td").is(":contains('Attachment:')")?$(e).parent("tr").next("tr").next("tr").children("td").addClass("partnerMessageBody"):$(e).parent("tr").next("tr").children("td").addClass("partnerMessageBody")})}),$(function(){submitButton.hide(),submitBackButton.hide(),submitButton.parent("td").after('<td><span id="new_ctl00_MainContent_B_TicketSubmit" class="new_update_btn">Update (Internal)</span></td>'),submitBackButton.parent("td").after('<td><span id="new_ctl00_MainContent_B_SubmitAndBack" class="new_update_btn" style="width:120px">Update & Back</span></td>')}),$(function(){$(document).on("click","#new_ctl00_MainContent_B_TicketSubmit",function(){_beforeSubmitPopUp("submit")}),$(document).on("click","#new_ctl00_MainContent_B_SubmitAndBack",function(){_beforeSubmitPopUp("submit_back")})}),$(function(){var t=categoryProductId.text(),e=categoryContentId.text(),n=serialNumberId.val(),a=swVersionId.text(),i=swPatchId.text(),o='<div id="summary_note">[Summary]<p class="summary_item">Category : '+t+'</p><p class="summary_item">Type : '+e+'</p><p class="summary_item">S/N : '+n+'</p><p class="summary_item">Version : '+a+i+"</p></div>";$("body").after(o),$(document).on("click","#summary_note",function(){$(this).toggleClass("summary_note_close")})}),$(function(){$("body").after('<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">')}),$(function(){$("body").after('<p id="page-top"><a href="#wrap">PAGE TOP</a></p>')}),$(function(){var t=!1,e=$("#page-top");e.css("bottom","-100px");var t=!1;$(window).scroll(function(){$(this).scrollTop()>100?0==t&&(t=!0,e.stop().animate({bottom:"20px"},200)):t&&(t=!1,e.stop().animate({bottom:"-100px"},200))}),e.click(function(){return $("body,html").animate({scrollTop:0},500),!1})});