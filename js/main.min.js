function _emailCheckRemove(){emailNew.prop("checked",!1),emailAttach.prop("checked",!1),onlyEmailAttach.prop("checked",!1)}function _radioStatusChange(t){var n=[emailNew,emailAttach,onlyEmailAttach];"enable"==t?$.each(n,function(t,n){n.prop("disabled",!1),n.removeClass("radio_disabled").addClass("radio_enabled")}):$.each(n,function(t,n){n.prop("disabled",!0),n.removeClass("radio_enabled").addClass("radio_disabled")})}function _beforeSubmitPopUp(t,n){var n=$('input[name="ctl00$MainContent$UC_AddComment$G_DescriptionType"]:checked').val();if("RB_Internal"==n)return _submitOrBackClick(t),!0;var e=_createConfirmMsg(n);$.confirm({title:"[Confirm]",content:e,buttons:{ok:function(){return _submitOrBackClick(t),!0},cancel:function(){return!0}}})}function _createConfirmMsg(t){var n=$('input[name="ctl00$MainContent$UC_AddComment$CB_NeedSendEmail"]').prop("checked"),e=$('input[name="ctl00$MainContent$UC_AddComment$CB_NeedEmailAttachment"]').prop("checked"),a="";n?(a="Email New Comment",e&&(a+="<br>Email Attachment(s)")):e&&(a="Email Attachment(s)");var i='<div style="color: lightgreen; font-size:1.5em">******* Output *******</div>'+t+'<br><br><div style="color: lightgreen; font-size:1.5em">******* Email *******</div>email From  :  '+emailFrom.val()+"<br>email To  :  "+emailTo.val()+"<br>email Cc  :  "+emailCc.val()+'<br><br><div style="color: lightgreen; font-size:1.5em">******* Action *******</div>'+a+"<br><br>";return titleCheckFrag&&statusChangeFrag&&partnerRatingCheckFrag||(i+='<div style="color: red; font-size:1.5em">!!!!! Caution !!!!!</div>',titleCheckFrag||(i+="+ Title header is irregularity!<br>"),statusChangeFrag||(i+="+ You didn't change  Status!<br>"),partnerRatingCheckFrag||(i+="+ Partner Rating is empty!<br>"),i+="<br>Please check before you submit.<br>"),i}function _submitOrBackClick(t){switch(t){case"submit":submitButton.click();break;case"submit_back":submitBackButton.click()}}var titleId=$("#ctl00_MainContent_TB_TicketTitle"),titleCheckFrag=!1,statusId=$("#ctl00_MainContent_DDL_TicketStatus"),statusChangeFrag=!1,partnerRatingId=$("#ctl00_MainContent_UC_PartnerRating_DDL_NoDocs"),partnerRatingCheckFrag=!0,internalButton=$("#ctl00_MainContent_UC_AddComment_RB_Internal"),externalButton=$("#ctl00_MainContent_UC_AddComment_RB_EXternal"),notepadButton=$("#ctl00_MainContent_UC_AddComment_RB_NotePad"),emailNew=$("#ctl00_MainContent_UC_AddComment_CB_NeedSendEmail"),emailAttach=$("#ctl00_MainContent_UC_AddComment_CB_NeedEmailAttachment"),onlyEmailAttach=$("#ctl00_MainContent_UC_AddComment_CB_AttachToEmailOnly"),emailFrom=$("#ctl00_MainContent_UC_AddComment_TB_EmailFrom"),emailTo=$("#ctl00_MainContent_UC_AddComment_TB_EmailTo"),emailCc=$("#ctl00_MainContent_UC_AddComment_TB_EmailCC"),submitButton=$("#ctl00_MainContent_B_TicketSubmit"),submitBackButton=$("#ctl00_MainContent_B_SubmitAndBack"),newSubmitButton=$("#new_ctl00_MainContent_B_TicketSubmit"),newSubmitBackButton=$("#new_ctl00_MainContent_B_SubmitAndBack");$(function(){$("#aspnetForm > div:nth-child(13) > table:nth-child(1)").after('<p class="plugin_working">FortiCare Cutom Plugin Working now...</p>')}),$(function(){_emailCheckRemove(),emailCc.val("support_jp@fortinet.com"),_radioStatusChange("disable")}),$(function(){internalButton.click(function(){_emailCheckRemove(),_radioStatusChange("disable"),$("#new_ctl00_MainContent_B_TicketSubmit").text("Update (Internal)")})}),$(function(){var t=[externalButton,notepadButton];$.each(t,function(t,n){n.click(function(){_radioStatusChange("enable"),n==externalButton?$("#new_ctl00_MainContent_B_TicketSubmit").text("Update (External)"):$("#new_ctl00_MainContent_B_TicketSubmit").text("Update (NotePad)")})})}),$(function(){statusId.addClass("title_warning"),statusId.change(function(){statusId.removeClass("title_warning"),statusChangeFrag=!0})}),$(function(){""==partnerRatingId.val()&&(partnerRatingId.addClass("title_warning"),partnerRatingCheckFrag=!1),partnerRatingId.change(function(){""==partnerRatingId.val()?(partnerRatingId.addClass("title_warning"),partnerRatingCheckFrag=!1):(partnerRatingId.removeClass("title_warning"),partnerRatingCheckFrag=!0)})}),$(function(){var t=titleId.val();t.match(/^#[a-zA-Z]{2}-[a-zA-z]#.*\[.*\].*/)?titleCheckFrag=!0:titleId.addClass("title_warning")}),$(function(){titleId.change(function(){var t=titleId.val();t.match(/^#[a-zA-Z]{2}-[a-zA-z]#.*\[.*\].*/)?(titleId.removeClass("title_warning"),titleCheckFrag=!0):(titleId.addClass("title_warning"),titleCheckFrag=!1)})}),$(function(){submitButton.hide(),submitBackButton.hide(),submitButton.parent("td").after('<td><span id="new_ctl00_MainContent_B_TicketSubmit" class="new_update_btn">Update (Internal)</span></td>'),submitBackButton.parent("td").after('<td><span id="new_ctl00_MainContent_B_SubmitAndBack" class="new_update_btn" style="width:120px">Update & Back</span></td>')}),$(function(){$(document).on("click","#new_ctl00_MainContent_B_TicketSubmit",function(){_beforeSubmitPopUp("submit")}),$(document).on("click","#new_ctl00_MainContent_B_SubmitAndBack",function(){_beforeSubmitPopUp("submit_back")})}),$(function(){$("body").after('<p id="page-top"><a href="#wrap">PAGE TOP</a></p>')}),$(function(){var t=!1,n=$("#page-top");n.css("bottom","-100px");var t=!1;$(window).scroll(function(){$(this).scrollTop()>100?0==t&&(t=!0,n.stop().animate({bottom:"20px"},200)):t&&(t=!1,n.stop().animate({bottom:"-100px"},200))}),n.click(function(){return $("body,html").animate({scrollTop:0},500),!1})});